<?xml version='1.0' encoding='utf-8'?>
<waypoints type='TRAVEL'>
	<onload><![CDATA[
		
		scripts							= {
			['event']						= '/Events/TruhenEvent.xml',
			['parcour']					= '/Instances/minigames/cot.xml',
			['survival']				= '/Instances/minigames/survivalR5.xml',
			['andor']						= '/Instances/minigames/AndorTraining.xml',
			['lyliya']					= '/Instances/minigames/Lyliya.xml',
			['plant']						= '/Farm/PlantCare.xml',
			['goldegg']					= '/Farm/MillersRanchChickens.xml',
			['manastone']				= '/ManaStones/start.xml',
			['gobo']						= '/instances/gobo/gobo_solo.xml',
			
			['tq_prepare']			= '/TQ/TQ-Logar_prepare.xml',
			['tq_patrouille']		= '/TQ/TQ-Patrouille.xml',
			['tq_logar']				= '/TQ/TQ-Logar.xml',
			['tq_dogs']					= '/TQ/TQ-Xaviera_dogs.xml',
			['tq_butterfly']		= '/TQ/TQ-Xaviera_butterflies.xml',
			['tq_xaviera']			= '/TQ/TQ-Xaviera.xml',
			['tq_kadun']				= '/TQ/TQ-Kadun.xml',
			['tq_meisterkoch']	= '/TQ/TQ-Meisterkoch.xml',
			['tq_kisten']				= '/TQ/TQ-Kisten.xml',
			['tq_ruinen']				= '/TQ/TQ-Ruinen.xml',
			['tq_flammen']			= '/TQ/TQ-Flammen.xml',
			['tq_hornbestien']	= '/TQ/TQ-Hornbestienleder.xml',
			['tq_maedchen']			= '/TQ/TQ-Maedchen.xml',
		}
		
		chars = {
			{ name = 'Mainbänker', 		account = 47, char = 7, home = 'LogarHouseMaid',				scripts = {'tq_prepare','tq_logar','manastone'} },
			{ name = 'Kräuterbänker', account = 47, char = 4, home = 'LogarHouseMaid',				scripts = {'tq_logar','manastone'} },
			{ name = 'Holzbänker', 		account = 47, char = 5, home = 'LogarHouseMaid',				scripts = {'tq_logar','manastone'} },
			{ name = 'Erzbänker', 		account = 47, char = 8, home = 'LogarHouseMaid',				scripts = {'tq_logar','manastone'} },
			{ name = 'Runenbänker', 	account = 47, char = 3, home = 'LogarHouseMaid',				scripts = {'tq_logar'} },
			{ name = 'Statsbänker', 	account = 47, char = 6, home = 'LogarHouseMaid',				scripts = {'tq_logar'} },
			{ name = 'Brisinga',			account = 47, char = 1, home = 'LogarHouseMaid',				scripts = {'tq_logar','manastone'} },
			{ name = 'Vindictive', 		account = 47, char = 2, home = 'HeffnerHousemaid',			scripts = {'parcour','andor','tq_butterfly'} },
			{ name = 'Foodbänker', 		account = 68, char = 1, home = 'LogarHouseMaid',				scripts = {'tq_logar','manastone'} },
			{ name = 'Matsbänker', 		account = 68, char = 2, home = 'LogarHouseMaid',				scripts = {'tq_logar','manastone'} },
			{ name = 'Manabänker', 		account = 68, char = 3, home = 'LogarHouseMaid',				scripts = {'tq_logar'} },
			{ name = 'Steinbänker', 	account = 68, char = 4, home = 'LogarHouseMaid',				scripts = {'tq_logar'} },
			{ name = 'Restebänker', 	account = 68, char = 5, home = 'LogarHouseMaid',				scripts = {'tq_logar','manastone'} },
			{ name = 'Crapbänker', 		account = 68, char = 6, home = 'LogarHouseMaid',				scripts = {'tq_logar'} },
			{ name = 'Dailybänker', 	account = 68, char = 7, home = 'LogarHouseMaid',				scripts = {'tq_logar','manastone'} },
			{ name = 'Hexxxhexxx', 		account = 68, char = 8, home = 'HeffnerHousemaid',			scripts = {'parcour','andor','tq_butterfly'} },
			{ name = 'Thunderstrike', account = 57, char = 2, home = 'HeffnerHousemaid',			scripts = {'parcour','andor','tq_butterfly'} },
			{ name = 'Celesteria', 		account = 57, char = 3, home = 'HeffnerHousemaid',			scripts = {'parcour','andor','tq_dogs'} },
			{ name = 'Celestron', 		account = 57, char = 1, home = 'HeffnerHousemaid',			scripts = {'goldegg','parcour','survival','andor','gobo','tq_flammen'} },
			{ name = 'Schulani', 			account = 57, char = 4, home = 'WailingFjordHousemaid',	scripts = {'goldegg','parcour','survival','andor','gobo'} },
		}
		
		tempFile		= getExecutionPath ()..'/logs/TQ.dat'
		wpPath			= getExecutionPath ()..'/waypoints/'
		selfFile		= wpPath..'/TQ'
		returnFile  = wpPath..'/TQ_return'
    config    	= table.load (tempFile) or {}

		function checkRelog ()
			loadPaths (returnFile)
		end
    
		local function createConfig ()
      for _,line in pairs (chars) do
        local acc               = line.account
        local char              = line.char
        local name              = line.name
				if not config[name] then
	        config[name]            = {}
	        config[name].name       = getPlayerName (acc, char)
	        config[name].account    = acc
	        config[name].char       = char
	        config[name].home       = line.home
	        savePlayerName (acc, char, name)
				end
				if not config[name].date or config[name].date < tonumber (getDailyDate ('%Y%m%d')) then
	        config[name].scripts    = line.scripts
	        config[name].date       = tonumber (getDailyDate ('%Y%m%d'))
	        config[name].finished   = false
				end
      end
      table.save (config, tempFile) 
		end
		
		createConfig ()


	]]></onload>	
</waypoints>
